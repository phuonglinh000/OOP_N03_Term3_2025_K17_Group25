<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Qu·∫£n l√Ω phi·∫øu m∆∞·ª£n</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container py-5">
    <div class="row">
        <!-- C·ªôt tr√°i: Form t·∫°o phi·∫øu m∆∞·ª£n -->
        <div class="col-md-5">
            <h4 class="mb-3">üìÑ T·∫°o Phi·∫øu M∆∞·ª£n</h4>
            <form th:action="@{/muon-sach/them}" th:object="${phieuMuon}" method="post">
                <div class="mb-3">
                    <label>T√™n ng∆∞·ªùi m∆∞·ª£n</label>
                    <input type="text" th:field="*{nguoiDung.ten}" class="form-control" required>
                    <input type="hidden" th:field="*{nguoiDung.id}">
                </div>

                <div class="mb-3">
                    <label>Ng√†y m∆∞·ª£n</label>
                    <input type="date" th:field="*{ngayMuon}" class="form-control" required>
                </div>

                <div class="mb-3">
                    <label>T√™n s√°ch</label>
                    <input type="text" th:field="*{sach.tenSach}" class="form-control" required>
                </div>

                <div class="mb-3">
                    <label>T√°c gi·∫£</label>
                    <input type="text" th:field="*{sach.tacGia}" class="form-control" required>
                </div>

                <button type="submit" class="btn btn-success w-100">üìå T·∫°o Phi·∫øu</button>
            </form>
        </div>

        <!-- C·ªôt ph·∫£i: Danh s√°ch phi·∫øu m∆∞·ª£n -->
        <div class="col-md-7">
            <h4 class="mb-3">üìö Danh S√°ch Phi·∫øu M∆∞·ª£n</h4>
            <table class="table table-bordered table-hover">
                <thead class="table-success">
                <tr>
                    <th>#</th>
                    <th>Ng∆∞·ªùi m∆∞·ª£n</th>
                    <th>S√°ch</th>
                    <th>Ng√†y m∆∞·ª£n</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="p, stat : ${dsPhieu}">
                    <td th:text="${stat.count}">1</td>
                    <td th:text="${p.nguoiDung.ten}">T√™n ng∆∞·ªùi</td>
                    <td th:text="${p.sach.tenSach + ' - ' + p.sach.tacGia}">T√™n s√°ch - T√°c gi·∫£</td>
                    <td th:text="${#temporals.format(p.ngayMuon, 'dd/MM/yyyy')}">01/07/2025</td>
                </tr>
                <tr th:if="${#lists.isEmpty(dsPhieu)}">
                    <td colspan="4" class="text-center text-muted">Ch∆∞a c√≥ phi·∫øu m∆∞·ª£n n√†o.</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

</body>
</html>